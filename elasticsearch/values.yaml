# Simplified for local Rancher Desktop development
clusterName: "elasticsearch"
nodeGroup: "master"

# In ES 8.x, nodes often take all roles by default in small clusters
roles:
  - master
  - data
  - data_content
  - data_hot
  - ingest
  - remote_cluster_client

# Local dev usually only needs 1 or 3 replicas. 
# Using 1 for resource efficiency on Mac.
replicas: 1
minimumMasterNodes: 1

# Resource adjustments for local machine
resources:
  requests:
    cpu: "500m"
    memory: "1Gi"
  limits:
    cpu: "1000m"
    memory: "2Gi"

# Increase JVM heap size to match memory limits
esJavaOpts: "-Xmx1g -Xms1g"

# Persistence settings for Rancher Desktop (uses local-path storage by default)
volumeClaimTemplate:
  accessModes: ["ReadWriteOnce"]
  resources:
    requests:
      storage: 5Gi

# Security: Set to false for easier local testing (re-enable for production!)
# Note: ES 8.x has security on by default. This chart handles cert generation.
createCert: true

# Helpful for local access via localhost:9200 if you port-forward
service:
  type: ClusterIP
  httpPort: 9200