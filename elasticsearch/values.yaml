# Use the official Docker image
image: "docker.elastic.co/elasticsearch/elasticsearch"
imageTag: "8.11.1" # Change to your preferred version

# Local environment optimizations
replicas: 1
minimumMasterNodes: 1

# Resource management for local machine (Rancher Desktop)
rresources:
  requests:
    cpu: "100m"     # Lowered from 500m
    memory: "512Mi"  # Lowered from 1Gi
  limits:
    cpu: "1000m"
    memory: "1Gi"   # Lowered from 2Gi

# Adjust Java Heap to match the new lower memory
esJavaOpts: "-Xmx256m -Xms256m"

# Networking
service:
  type: ClusterIP
  port: 9200

# Volume settings
persistence:
  enabled: true
  size: 10Gi

# Security (Self-signed certificates are enabled by default in 8.x)
# If you are just testing, you might want to disable security for simplicity:
# esConfig:
#   elasticsearch.yml: |
#     xpack.security.enabled: false